<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Decentralised Art Server: dcn::server::Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Decentralised Art Server
   </div>
   <div id="projectbrief">High-performance C++ backend that exposes HTML interface and a secure REST API for managing Performative Transactions entities</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classdcn_1_1server_1_1Server.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classdcn_1_1server_1_1Server-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dcn::server::Server Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class representing a server for handling HTTP requests.  
 <a href="classdcn_1_1server_1_1Server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="server_8hpp_source.html">server.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a067edd69ac625024a16a4ff9f66fc16c" id="r_a067edd69ac625024a16a4ff9f66fc16c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#a067edd69ac625024a16a4ff9f66fc16c">Server</a> (asio::io_context &amp;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">io_context</a>, asio::ip::tcp::endpoint <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">endpoint</a>)</td></tr>
<tr class="separator:a067edd69ac625024a16a4ff9f66fc16c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec9f132e1c4387d0ce305eb91988c3b" id="r_acec9f132e1c4387d0ce305eb91988c3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#acec9f132e1c4387d0ce305eb91988c3b">~Server</a> ()=<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">default</a></td></tr>
<tr class="separator:acec9f132e1c4387d0ce305eb91988c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e71707c32032d51ee4bea866262849" id="r_a23e71707c32032d51ee4bea866262849"><td class="memItemLeft" align="right" valign="top">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#a23e71707c32032d51ee4bea866262849">listen</a> ()</td></tr>
<tr class="separator:a23e71707c32032d51ee4bea866262849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa94b51405a939843129e02ec374748d" id="r_afa94b51405a939843129e02ec374748d"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">class</a> <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> &gt; </td></tr>
<tr class="memitem:afa94b51405a939843129e02ec374748d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#afa94b51405a939843129e02ec374748d">addRoute</a> (<a class="el" href="classdcn_1_1server_1_1RouteKey.html">RouteKey</a> <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">route</a>, <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> &amp;&amp;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">handler</a>)</td></tr>
<tr class="memdesc:afa94b51405a939843129e02ec374748d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a route to the server with a specified HTTP method and path.  <br /></td></tr>
<tr class="separator:afa94b51405a939843129e02ec374748d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf32d78ae3072fe426d94f9adf14592" id="r_aaaf32d78ae3072fe426d94f9adf14592"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">class</a> <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> , <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">class</a> ... Args&gt; </td></tr>
<tr class="memitem:aaaf32d78ae3072fe426d94f9adf14592"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#aaaf32d78ae3072fe426d94f9adf14592">addRoute</a> (<a class="el" href="classdcn_1_1server_1_1RouteKey.html">RouteKey</a> <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">route</a>, <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> &amp;&amp;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">handler</a>, <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">Args</a> &amp;&amp;... <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">binded_args</a>)</td></tr>
<tr class="memdesc:aaaf32d78ae3072fe426d94f9adf14592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a route to the server with a specified HTTP method and path.  <br /></td></tr>
<tr class="separator:aaaf32d78ae3072fe426d94f9adf14592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc794d3d34b5aa4d779ec626b61276a8" id="r_afc794d3d34b5aa4d779ec626b61276a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#afc794d3d34b5aa4d779ec626b61276a8">setIdleInterval</a> (std::chrono::milliseconds <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">idle_interval</a>)</td></tr>
<tr class="memdesc:afc794d3d34b5aa4d779ec626b61276a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the idle interval after which the server will close the connection.  <br /></td></tr>
<tr class="separator:afc794d3d34b5aa4d779ec626b61276a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857966339be8d3b0f05b04db60387a49" id="r_a857966339be8d3b0f05b04db60387a49"><td class="memItemLeft" align="right" valign="top">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#a857966339be8d3b0f05b04db60387a49">close</a> ()</td></tr>
<tr class="memdesc:a857966339be8d3b0f05b04db60387a49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the server gracefully.  <br /></td></tr>
<tr class="separator:a857966339be8d3b0f05b04db60387a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2de80db5852a886c42d4e09ca16ba7e1" id="r_a2de80db5852a886c42d4e09ca16ba7e1"><td class="memItemLeft" align="right" valign="top">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#a2de80db5852a886c42d4e09ca16ba7e1">handleConnection</a> (asio::ip::tcp::socket <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">sock</a>)</td></tr>
<tr class="separator:a2de80db5852a886c42d4e09ca16ba7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11f6e692374a9a8ef6f60a246ede77b" id="r_ac11f6e692374a9a8ef6f60a246ede77b"><td class="memItemLeft" align="right" valign="top">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#ac11f6e692374a9a8ef6f60a246ede77b">readData</a> (asio::ip::tcp::socket &amp;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">sock</a>, std::chrono::steady_clock::time_point &amp;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">deadline</a>)</td></tr>
<tr class="memdesc:ac11f6e692374a9a8ef6f60a246ede77b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from the given socket and processes incoming HTTP requests.  <br /></td></tr>
<tr class="separator:ac11f6e692374a9a8ef6f60a246ede77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcfb6303d33d953d6d8d8f73b1aa4e9" id="r_a5dcfb6303d33d953d6d8d8f73b1aa4e9"><td class="memItemLeft" align="right" valign="top">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcn_1_1server_1_1Server.html#a5dcfb6303d33d953d6d8d8f73b1aa4e9">writeData</a> (asio::ip::tcp::socket &amp;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">sock</a>, std::string message)</td></tr>
<tr class="memdesc:a5dcfb6303d33d953d6d8d8f73b1aa4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously writes data to a TCP socket.  <br /></td></tr>
<tr class="separator:a5dcfb6303d33d953d6d8d8f73b1aa4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class representing a server for handling HTTP requests. </p>
<p>This class is responsible for listening for incoming TCP connections on a specified port, handling incoming HTTP requests, and executing route handlers based on the request method and path. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a067edd69ac625024a16a4ff9f66fc16c" name="a067edd69ac625024a16a4ff9f66fc16c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067edd69ac625024a16a4ff9f66fc16c">&#9670;&#160;</a></span>Server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dcn::server::Server::Server </td>
          <td>(</td>
          <td class="paramtype">asio::io_context &amp;&#160;</td>
          <td class="paramname"><em>io_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">asio::ip::tcp::endpoint&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acec9f132e1c4387d0ce305eb91988c3b" name="acec9f132e1c4387d0ce305eb91988c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec9f132e1c4387d0ce305eb91988c3b">&#9670;&#160;</a></span>~Server()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dcn::server::Server::~Server </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afa94b51405a939843129e02ec374748d" name="afa94b51405a939843129e02ec374748d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa94b51405a939843129e02ec374748d">&#9670;&#160;</a></span>addRoute() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">class</a> <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> dcn::server::Server::addRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdcn_1_1server_1_1RouteKey.html">RouteKey</a>&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a route to the server with a specified HTTP method and path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">route</td><td>The route key containing the HTTP method and path. </td></tr>
    <tr><td class="paramname">handler</td><td>The handler function to be called when the route is matched. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaaf32d78ae3072fe426d94f9adf14592" name="aaaf32d78ae3072fe426d94f9adf14592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf32d78ae3072fe426d94f9adf14592">&#9670;&#160;</a></span>addRoute() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">class</a> <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> , <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">class</a> ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> dcn::server::Server::addRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdcn_1_1server_1_1RouteKey.html">RouteKey</a>&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">F</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">Args</a> &amp;&amp;...&#160;</td>
          <td class="paramname"><em>binded_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a route to the server with a specified HTTP method and path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">route</td><td>The route key containing the HTTP method and path. </td></tr>
    <tr><td class="paramname">handler</td><td>The handler function to be called when the route is matched. </td></tr>
    <tr><td class="paramname">binded_args</td><td>Additional arguments to bind to the handler function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a857966339be8d3b0f05b04db60387a49" name="a857966339be8d3b0f05b04db60387a49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857966339be8d3b0f05b04db60387a49">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt; dcn::server::Server::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the server gracefully. </p>
<p>This function sets the <code>_close</code> flag to true, signaling the server to stop accepting new connections and begin shutdown procedures. The closure operation is dispatched to the server's strand to ensure thread safety. It logs a debug message indicating that a close request has been initiated. </p>

</div>
</div>
<a id="a2de80db5852a886c42d4e09ca16ba7e1" name="a2de80db5852a886c42d4e09ca16ba7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de80db5852a886c42d4e09ca16ba7e1">&#9670;&#160;</a></span>handleConnection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt; dcn::server::Server::handleConnection </td>
          <td>(</td>
          <td class="paramtype">asio::ip::tcp::socket&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handles a new connection by reading data from the socket and processing it until there is no more data to read or the idle interval has been reached. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An awaitable that resolves when the connection has been closed. </dd></dl>

</div>
</div>
<a id="a23e71707c32032d51ee4bea866262849" name="a23e71707c32032d51ee4bea866262849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e71707c32032d51ee4bea866262849">&#9670;&#160;</a></span>listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt; dcn::server::Server::listen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listens for incoming TCP connections on the specified port.</p>
<p>This function sets up the server to listen for connections using the provided acceptor. It dispatches the listening operation to the server's strand to ensure thread safety. The server continues to listen until the <code>close</code> flag is set to true. For each incoming connection, it spawns a new coroutine to handle the connection without blocking the server strand.</p>
<p>The function also manages an idle timeout using a watchdog, which ensures that the server does not remain idle beyond the specified <code>idle_interval</code>. </p>

</div>
</div>
<a id="ac11f6e692374a9a8ef6f60a246ede77b" name="ac11f6e692374a9a8ef6f60a246ede77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11f6e692374a9a8ef6f60a246ede77b">&#9670;&#160;</a></span>readData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt; dcn::server::Server::readData </td>
          <td>(</td>
          <td class="paramtype">asio::ip::tcp::socket &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::steady_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>deadline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads data from the given socket and processes incoming HTTP requests. </p>
<p>This function asynchronously reads data from the provided TCP socket until the connection is closed or an error occurs. It parses the incoming data into HTTP requests, finds the appropriate route handler and executes it. The resulting HTTP response is then sent back through the socket. The deadline is updated for each read operation to enforce a timeout for client inactivity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The TCP socket to read data from. </td></tr>
    <tr><td class="paramname">deadline</td><td>The time point by which the read operation should complete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afc794d3d34b5aa4d779ec626b61276a8" name="afc794d3d34b5aa4d779ec626b61276a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc794d3d34b5aa4d779ec626b61276a8">&#9670;&#160;</a></span>setIdleInterval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> dcn::server::Server::setIdleInterval </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>idle_interval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the idle interval after which the server will close the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idle_interval</td><td>The idle interval in milliseconds. If no requests are received from the client during this interval, the server will close the connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5dcfb6303d33d953d6d8d8f73b1aa4e9" name="a5dcfb6303d33d953d6d8d8f73b1aa4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcfb6303d33d953d6d8d8f73b1aa4e9">&#9670;&#160;</a></span>writeData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">asio::awaitable&lt; <a class="el" href="namespacedcn_1_1server.html#a8b2d2d41e833f9eac4898bd1bfa6ed3ead57c24f3fe52d16e7169b912dd647f0d">void</a> &gt; dcn::server::Server::writeData </td>
          <td>(</td>
          <td class="paramtype">asio::ip::tcp::socket &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronously writes data to a TCP socket. </p>
<p>This function sends the provided message over the specified socket using asynchronous write operations. The function yields control until the entire message is sent. It's designed to work within an awaitable context and is part of the server's coroutine-based handling of connections.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The TCP socket to write the message to. </td></tr>
    <tr><td class="paramname">message</td><td>The message to be sent over the socket. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/server/include/<a class="el" href="server_8hpp_source.html">server.hpp</a></li>
<li>src/server/src/<a class="el" href="server_8cpp.html">server.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedcn.html">dcn</a></li><li class="navelem"><a class="el" href="namespacedcn_1_1server.html">server</a></li><li class="navelem"><a class="el" href="classdcn_1_1server_1_1Server.html">Server</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
